# Node.js가 무엇인가?

> Node.js는 Chrome V8 Javascript 엔진으로 빌드된 **자바스크립트 런타임**입니다
> 
- 노드를 통해 다양한 자바스크립트 애플리케이션을 실행할 수 있지만, 노드는 서버 애플리케이션 실행에 많이 사용됩니다

# 서버

> 서버는 **네트워크를 통해** 클라이언트에 정보나 서비스를 **제공**하는 컴퓨터 또는 프로그램을 말합니다
> 

## 요청과 응답의 흐름

1. 검색창에 주소(URL)을 요청하면 브라우저는 그 주소에 해당하는 곳의 컴퓨터 위치를 확인합니다 (요청)
2. 그 컴퓨터로부터 웹사이트 페이지를 받아와서 요청자의 브라우저에 띄웁니다 (응답)
- 서버는 클라이언트의 요청에 대해 응답을 합니다
- 하지만 응답으로 항상 Yes를 하는 것은 아니고 No를 할 수도 있습니다
- 차단에 당했다면 그 서버는 매번 No를 답할 것입니다

# 이벤트 기반

> 이벤트가 발생할 때 **미리 지정해둔 작업을 수행하는 방식**을 의미합니다
> 
- 클릭이나 네트워크 요청 등
- 무엇을 할지 미리 등록해둬야함 (ex: 콜백함수, 이벤트 리스너)

## 이벤트 루프

- 여러 이벤트가 동시에 발생했을때 **어떤 순서로 콜백함수를 호출 할지를 이벤트 루프가 판단**합니다

## 백그라운드

- 타이머나 이벤트 리스너들이 대기하는 곳입니다 (여러작업 동시에 실행 가능)

## 태스크 큐

- 이벤트 발생 후 백그라운드에서는 태스크 큐로 타이머나 이벤트 리스너의 콜백함수를 보냅니다

**여기 수행평가 후 다시 정리하고 이해하기**

# 논 블로킹 I/O

이벤트 루프를 잘 활용하면 오래 걸리는 작업을 효율적으로 처리할 수 있다

그중에서도 여러 종류가 있으며, 동시에 실행될 수 있는 작업과 그렇지 않은 작업이 존재한다

기본적으로 작성한 자바스크립트 코드는 **동시에 실행이 불가능하다** 하지만, 자바스크립트 자체가 아닌 I/O 환경에서는 **동시에 처리될 수 있다**

## 논 블로킹 vs 블로킹

**논 블로킹**은 **이전 작업이 완료될 때까지 대기하지 않고** **다음 작업을 바로 수행하는 방식**이다

반대로 **블로킹**은 **이전 작업이 끝나야만** **다음 작업을 수행하는 방식**이다

**여기 수행평가 후 다시 정리하고 이해하기**

# 싱글스레드

> 스레드가 하나뿐인 것을 의미합니다
> 

## 프로세스

- 프로세스는 **운영체제에서 할당하는 작업의 단위**입니다
- 프로세스 간에는 메모리등의 **자원을 공유하지 않**습니다
- 노드나 웹브라우저 같은 프로세스는 개별적 프로세스입니다

## 스레드

- **프로세스 내**에서 실행되는 **흐름의 단위**입니다
- 프로세스는 스레드를 여러 개 생성해 여러 작업을 동시에 처리할 수 있습니다
- 스레드들은 부모 프로세스의 자원을 공유합니다
- 같은 주소의 메모리에 접근 가능하므로 **데이터를 공유**할 수 있습니다

## 스레드 풀

- 노드가 특정 동작을 수행할 때 스스로 멀티 스레드를 사용합니다

## 워커 스레드

- 우리가 다수의 스레드를 다룰 수 있으며, CPU 작업이 많을 시 워커 스레드를 사용하면 됩니다

## 멀티 스레딩

- 하나의 프로세스 안에서 여러개의 스레드 사용
- CPU 작업이 많이 사용될 때 사용
- 프로그래밍이 어려움

## 멀티 프로세싱

- 여러 개의 프로세스 사용
- I/O 요청이 많을 때 사용
- 비교적 쉬움

# Node.js 장단점

## 장점

- 멀티 스레드 방식에 비해 적은 컴퓨터 자원 사용
- I/O작업이 많은 서버로 적합
- 멀티 스레드 방식보다 쉬움
- **웹 서버가 내장되어 있음**
- **자바스크립트를 사용함**
- **JSON 형식과 쉽게 호환됨**

## 단점

- 기본적으로 싱글 스레드라서 CPU 코어를 하나만 사용
- **CPU 작업이 많은 서버로는 부적합**
- **하나뿐인 스레드가 멈추지 않도록 관리 필요**
- **서버 규모가 커졌을 때 서버를 관리하기 어려움**
- 어중간한 성능
